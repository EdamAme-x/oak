"use strict";
/// <reference path="../lib.deno.d.ts" />
Object.defineProperty(exports, "__esModule", { value: true });
exports.test = void 0;
const test_js_1 = require("../../internal/test.js");
const test = function test() {
    var _a, _b;
    let testDef;
    const firstArg = arguments[0];
    const secondArg = arguments[1];
    if (typeof firstArg === "string") {
        if (typeof secondArg !== "function") {
            throw new TypeError("Missing test function");
        }
        testDef = { name: firstArg, fn: secondArg };
    }
    else {
        if (!(firstArg === null || firstArg === void 0 ? void 0 : firstArg.fn)) {
            throw new TypeError("Missing test function");
        }
        testDef = { ...firstArg };
    }
    if (((_b = (_a = testDef.name) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) === 0) {
        throw new TypeError("The test name can't be empty");
    }
    test_js_1.testDefinitions.push(testDef);
};
exports.test = test;
